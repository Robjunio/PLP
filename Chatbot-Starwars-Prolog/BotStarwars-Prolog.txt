:- initialization(bot_jedi).

talk :-
    nl,
    read(topic),
    interpret(topic).
    
% Main.
bot_jedi :-
    write("Started"),
    talk.

interpret(fim) :-
    write("end").

interpret(topicos) :-
    write("Temos os seguintes topicos:"), nl,
    write("- citacao --> poderá inserir o nome de um personagem e pegar uma citação aleatório do mesmo."), nl,
    write("- filme --> poderá inserir o nome de um filme e pegar uma breve descrição do mesmo."), nl,
    write("- naves --> poderá inserir o nome de uma nave e pegar uma breve descrição da mesma."), nl,
    write("- personagem --> poderá inserir o nome de um personagem e pegar uma breve descrição do mesmo."), nl,
    talk.
    
interpret(citacao) :-
    % Pergunta de qual personagem o usuario quer uma citação
    read(persona),
    quote(persona, answer), !,
    write(answer),
    talk.
    
interpret(filme) :-
    % Pergunta de qual filme o usuario quer uma breve descrição
    read(film),
    find_film(film, answer), !,
    write(answer),
    talk.

interpret(naves) :- 
    % Pergunta de qual nave o usuario quer uma breve descrição
    read(spaceships),
    spaceships(spaceships, answer), !,
    write(answer),
    talk.

interpret(personagem) :-
    % Pergunta de qual filme o usuario quer uma breve descrição
    read(character),
    character(character, answer), !,
    write(answer),
    talk.

interpret(_) :-
    % Mensagem de não saber o q o usuario inseriu na entrada
    talk.

%%%%%%%%%%%%%%%%%%%%%%
%%% Banco de dados %%%
%%%%%%%%%%%%%%%%%%%%%%

% Quotes

% Films

% Characters

% Spaceships


%%%%%%%%%%%%%%%%%%%%%%
%%%% Tratar erro %%%%%
%%%%%%%%%%%%%%%%%%%%%%

% Tratativas de erro da citação
quote(_) :- 
    % Não conheço esse personagem
    interpret(citacao).

% Tratativas de erro de filmes
find_film(_) :- 
    % Não conheço esse filme
    interpret(filme).

% Tratativas de erro de personagens
character(_) :- 
    % Não conheço esse personagem
    interpret(personagem).
    
spaceships(_) :-
    % Não conheço essa nave
    interpret(naves).


% BANCO DE DADOS
% Planetas cadastrados
planet('Abafar').
planet('Alderaan').
planet('Bardotta').
planet('Bespin').
planet('Carlac').
planet('Christophsis').
planet('Coruscant').
planet('Dagobah').
planet('Dathomir').
planet('Felucia').
planet('Florrun').
planet('Planeta da Força').
planet('Geonosis').
planet('Hoth').
planet('Kamino').
planet('Mandalore').
planet('Mustafar').
planet('Naboo').
planet('Tatooine').


planet('Não cadastrado', 'Planeta não cadastrado').


planet('Abafar', 'Um mundo remoto nos Territórios da Orla Exterior, Abafar é pouco povoado. É dominado por vastas extensões de deserto inexpressivo sob céus alaranjados opressivos. O estranho regolito que cobre a superfície distorce a luz de forma a obscurecer as sombras e não deixar rastros. Partículas na atmosfera fazem com que a luz do sol se difunda em um brilho laranja uniforme, por isso é quase impossível dizer a direção ou a hora do dia. Os enormes trechos de extensão inexpressiva são conhecidos como The Void. Pons Ora é um dos poucos assentamentos em Abafar, e é o local de uma instalação de mineração de Rhydonium operada pelos Separatistas durante as Guerras Clônicas.').
planet('Alderaan', 'Se alguma vez alguém precisou de um exemplo do mal irredimível que era o Império, volte-se para os restos destroçados de Alderaan. Um mundo influente, Alderaan foi representado nos últimos dias da República por políticos venerados como Bail Antilles e Bail Organa. Um mundo pacífico, Alderaan estava desprovido de armamento em uma era de conflitos galácticos. Não foi sem espírito, no entanto. Alderaan foi um dos primeiros apoiadores da Aliança para Restaurar a República, embora seus funcionários prudentemente mantivessem todos os laços com a Rebelião em segredo. Apesar de tal discrição, o Império sabia que era um refúgio de atividade Rebelde, e Grand Moff Tarkin mirou o belo mundo para represália assim que a Estrela da Morte estivesse operacional. A enorme arma primária da estação de batalha destruiu Alderaan, deixando apenas um campo de asteróides sem vida para trás.').
planet('Bardotta', 'Durante as Guerras Clônicas, Bardotta foi o cenário de um mistério sombrio. Anteriormente um mundo pacífico, os líderes espirituais do planeta começaram a desaparecer sem aviso prévio. A Rainha Julia da Bardotta solicitou que o Senado enviasse Jar Jar Binks para investigar – mas nenhum Jedi devido a uma desconfiança de longa data da Ordem. Quando os Jedi começaram a introduzir as crianças Bardottan na Ordem, eles foram rotulados como ladrões. Em última análise, Mace Windu acompanhou Binks, e juntos eles descobriram as partes do mal por trás dos desaparecimentos.').
planet('Bespin', 'Isolada da turbulência galáctica por sua localização em um setor pouco visitado do espaço, Bespin é uma raridade astrofísica. Um imenso gigante gasoso cercado por várias luas, o planeta contém uma faixa de atmosfera habitável entre suas infinitas nuvens. Nesse estrato da vida, garimpeiros empreendedores estabeleceram complexos de mineração flutuantes dedicados à extração de gases valiosos das profundezas do planeta. O mais conhecido desses empreendimentos é a opulenta Cloud City, anteriormente sob a administração de Lando Calrissian. Durante o final da Guerra Civil Galáctica, o Império guarneceu Bespin e assumiu Cloud City, embora o posto avançado e o planeta gozassem de liberdade após a derrota do Imperador na Batalha de Endor.').
planet('Carlac', 'Um mundo lindo e coberto de neve nos Territórios da Orla Exterior, Carlac evitou grande parte da violência das Guerras Clônicas. Mas quando os guerreiros nômades do Olho da Morte o transformaram em um acampamento, o planeta e seu pacífico povo Ming Po enfrentaram a morte e a destruição. Os cruéis guerreiros do Olho da Morte ergueram tendas temporárias ao lado de uma cidade Ming Po e invadiram a vila indefesa em busca de servos. O chefe Pieter, líder dos Ming Po, exigiu que o Olho da Morte deixasse Carlac imediatamente, desencadeando o temperamento cruel de Pre Vizsla.').
planet('Christophsis', 'Uma bela joia de um mundo com imensas formações cristalinas, Christophsis foi palco de repetidas e acaloradas batalhas nas Guerras Clônicas. Um bloqueio de naves separatistas prendeu uma missão de socorro do Senado atrás das linhas inimigas, necessitando de uma força-tarefa especial da República com tecnologia experimental de nave estelar para dispersar o bloqueio. Isso precipitou uma invasão separatista em grande escala do planeta, possibilitada por um traidor dentro das fileiras de soldados clones. No final, a República conseguiu reverter a invasão separatista e proteger o planeta de futuras incursões.').
planet('Coruscant', 'Um planeta coberto de cidades, Coruscant é o coração vibrante e a capital da galáxia, apresentando uma mistura diversificada de cidadãos e cultura. Possui arranha-céus imponentes, fluxos de tráfego aéreo cheios de velocidade e níveis internos que se estendem muito abaixo da superfície do mundo. Coruscant foi a sede do governo da República Galáctica e do Império que se seguiu, e foi o local de vários eventos históricos durante as Guerras Clônicas. Ele também abrigou o Templo Jedi e Arquivos, que abrigaram treinamento e aprendizado Jedi por mais de mil gerações – tradições que terminaram quando o planeta testemunhou a Ordem 66.').
planet('Dagobah', 'Lar de Yoda durante seus últimos anos, Dagobah era um planeta coberto de pântanos forte com a Força - um mundo esquecido onde o Mestre Jedi enrugado poderia escapar da atenção das forças imperiais. Caracterizado por suas condições de pântano e pântanos fétidos, o pântano escuro e úmido era pouco desenvolvido, sem sinais de tecnologia. Embora carecesse de civilização, o planeta estava repleto de vida – desde sua densa vegetação rasteira até sua diversificada população animal. Lar de várias criaturas reptilianas e anfíbias bastante comuns, Dagobah também ostentava uma população indígena de formas de vida muito mais massivas - e misteriosas. Cercado por criaturas que geram a Força viva, Yoda aprendeu a se conectar com a Força cósmica mais profunda e esperou por alguém que pudesse trazer o retorno da Ordem Jedi.').
planet('Dathomir', 'Um planeta remoto, Dathomir está encharcado de luz vermelho-sangue de sua estrela central. O planeta tem continentes invadidos por vegetação retorcida, com florestas de árvores curvadas carregadas de grandes frutos semelhantes a casulos. Contornando densos pântanos estão as enormes fortalezas de pedra das Irmãs da Noite, um clã de bruxas. As Irmãs da Noite eram reservadas, mas de vez em quando eram conhecidas por oferecer seus serviços àqueles que despertavam seus interesses. Longe das Irmãs da Noite viviam os Irmãos da Noite - um clã tatuado de guerreiros Zabrak eram subservientes às suas contrapartes femininas.').
planet('Felucia', 'Felucia é um mundo repleto de formas de vida fúngicas e imensas plantas primitivas. Grande parte do planeta tem uma paisagem fétida e úmida coberta por florestas de natureza selvagem bizarra. Muitas das formas de vida em Felucia são parcial ou completamente translúcidas; eles colorem a luz do sol à medida que os raios penetram em sua pele. Outros são opacos e imponentes, como os enormes rancores da selva que rondam a paisagem. Sob as copas nebulosas das enormes plantas de jarro e crescimentos frondosos, há uma extensão surreal encharcada de cores. Durante as Guerras Clônicas, os Jedi tentaram defender Felucia daqueles que explorariam o planeta.').
planet('Florrun', 'Um mundo desértico e árido nos Territórios da Orla Exterior, Florrum está fora do caminho comum das principais rotas do hiperespaço galáctico, tornando-se o refúgio perfeito para criminosos caçados ou bandidos sem lei. Durante as Guerras Clônicas, Hondo Ohnaka administrou uma lucrativa operação de salvamento e pirataria em Florrum. Seus assuntos se cruzaram com os Jedi em mais de uma ocasião.').
planet('Planeta da Força', 'Não marcado em nenhum mapa estelar e não reconhecido com nenhum nome específico, o planeta da Força é um mundo místico e a base da própria vida. É o berço dos midi-chlorians, organismos microscópicos que conectam a Força viva à Força cósmica. Cercado por uma nebulosa brilhante, o planeta da Força é um lugar estéril, apresentando apenas gêiseres luminescentes que disparam energia das profundezas do mundo. Várias ilhas pairam acima da superfície, cada uma repleta de vida vegetal e forte com a Força.').
planet('Geonosis', 'Um mundo rochoso áspero a menos de um parsec de Tatooine, Geonosis é um planeta com anéis além das fronteiras da República Galáctica. Sua superfície pouco convidativa é composta de deserto áspero e rochoso, e as criaturas que evoluíram em Geonosis estão bem equipadas para sobreviver no ambiente brutal. A forma de vida mais avançada são os Geonosians, insectoides sencientes que habitam colmeias em espiral. Os Geonosians mantêm grandes fábricas para a produção de droides e armas para a causa Separatista nas Guerras Clônicas. Após as Guerras Clônicas, o Império escolheu Geonosis como local de construção da primeira Estrela da Morte, restringindo as viagens ao sistema e esterilizando a superfície do planeta.').
planet('Hoth', 'Hoth é o sexto planeta no sistema remoto de mesmo nome, e foi o local da Echo Base da Aliança Rebelde. É um mundo de neve e gelo, cercado por inúmeras luas e lar de criaturas mortais como o wampa.').
planet('Kamino', 'Uma vez expurgado dos Arquivos Jedi, de outra forma completos, todas as evidências do misterioso mundo de Kamino. Um mundo solitário além da Orla Exterior e ao sul do Rishi Maze, poucos poderiam ter previsto que Kamino se tornaria um dos principais contribuintes para uma grande mudança no poder político nos últimos dias da República. Kamino é um planeta de oceanos e tempestades sem fim. Poucas características marcam sua superfície, exceto por enormes cidades sobre palafitas onde residem os habitantes naturais do planeta, os Kaminoanos. Da Cidade Tipoca, o primeiro-ministro do planeta governa. Lama Su e a cientista médica chefe de Kamino, Nala Se, monitoram de perto as operações da exportação mais valiosa de Kamino - clones - mesmo depois que as Guerras Clônicas chegam ao fim.').
planet('Mandalore', 'Um mundo orgulhoso com uma rica cultura guerreira, Mandalore é o lar de vários clãs unidos sob Bo-Katan Kryze, portador do Darksaber.').
planet('Mustafar', 'Um planeta minúsculo e ardente na Orla Exterior, Mustafar mantém uma órbita errática entre dois gigantes gasosos. Mustafar é rico em minerais únicos e valiosos que há muito são extraídos pela Tech Union. Seus poços de lava e rios fazem deste planeta um habitat perigoso; seus nativos têm corpos fortes e robustos que podem suportar calor extremo. O planeta tornou-se o pano de fundo para o duelo fatídico entre Obi-Wan Kenobi e Anakin Skywalker. Após a ascensão do Império, os Jedi capturados foram levados ao mundo vulcânico para interrogatório e execução.').
planet('Naboo', 'Um mundo idílico perto da fronteira dos Territórios da Orla Exterior, Naboo é habitado por humanos pacíficos conhecidos como Naboo, e uma espécie nativa de anfíbios inteligentes chamados Gungans. A superfície de Naboo consiste em lagos pantanosos, planícies onduladas e colinas verdes. Seus centros populacionais são lindos - as cidades fluviais de Naboo estão repletas de arquitetura clássica e vegetação, enquanto os assentamentos subaquáticos de Gungan são uma bela exibição da exótica tecnologia de bolhas hidrostáticas.').
planet('Tatooine', 'Tatooine é um mundo desértico que orbita sóis gêmeos na Orla Exterior da galáxia. Nos dias do Império e da República, muitos colonos ganhavam a vida em fazendas úmidas, enquanto cidades portuárias como Mos Eisley e Mos Espa serviam de base para contrabandistas, criminosos e outros bandidos. Anakin Skywalker e Luke Skywalker já chamaram Tatooine de casa, e Obi-Wan Kenobi passou anos escondido lá. Uma vez conhecida como uma colmeia de escória e vilania, Tatooine ficou mais quieta desde o fim da Guerra Civil Galáctica.').


% Verificar se planeta está cadastrado
verify_planet(X, Y) :- planet(X, Y), planet(X), ! ; planet('Não cadastrado', Y).


% Pais cadastrados
parent('Shmi Skywarlker').
parent('Jobal Naberrie').
parent('Ruweee Naberrie').
parent('Padmé Amidala').
parent('Anakin Skywalker').
parent('Leia Organa').
parent('Han Solo').


parent('Não cadastrado', 'Personagem não cadastrado').


parent('Shmi Skywalker', 'Anakin Skywalker').
parent('Jobal Naberrie', 'Padmé Amidala').
parent('Ruweee Naberrie', 'Padmé Amidala').
parent('Padmé Amidala', 'Luke Skywalker').
parent('Padmé Amidala', 'Leia Organa').
parent('Leia Organa', 'Kylo Ren').
parent('Han Solo', 'Kylo Ren').


% Verificar se planeta está cadastrado
verify_parent(X, Y) :- parent(X, Y), parent(X), ! ; parent('Não cadastrado', Y).


% Irmãos cadastrados
siblin('Luke Skywalker').
siblin('Leia Organa').
siblin('Padmé Amidala').
siblin('Sola Naberrie').


siblin('Não cadastrado', 'Personagem não cadastrado').


siblin('Luke Skywalker', 'Leio Organa').
siblin('Leia Organa', 'Luke Skywalker').
siblin('Padmé Amidala', 'Sola Naberrie').
siblin('Sola Naberrie', 'Padmé Amidala').


% Verificar se irmão está cadastrado
verify_siblin(X, Y) :- siblin(X, Y), siblin(X), ! ; siblin('Não cadastrado', Y).


% Mestres cadastrados
master('Yoda').
master('Obi-Wan Kenobi').
master('Anakin Skywalker').
master('Luke Skywalker').
master('Darth Sidious').


master('Não cadastrado', 'Personagem não cadastrado').


master('Yoda', 'Dookan').
master('Yoda', 'Luke Skywalker').
master('Obi-Wan Kenobi', 'Anakin Skywalker').
master('Anakin Skywalker', 'Ahsoka Tano').
master('Luke Skywalker', 'Rey Skywalker').
master('Luke Skywalker', 'Kylo Ren').
master('Darth Sidious', 'Darth Vader').


% Verificar se irmão está cadastrado
verify_master(X, Y) :- master(X, Y), master(X), ! ; master('Não cadastrado', Y).